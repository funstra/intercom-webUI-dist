var cn=Object.defineProperty,un=Object.defineProperties;var fn=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var yt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable;var mt=(e,t,n)=>t in e?cn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,K=(e,t)=>{for(var n in t||(t={}))yt.call(t,n)&&mt(e,n,t[n]);if(we)for(var n of we(t))Et.call(t,n)&&mt(e,n,t[n]);return e},be=(e,t)=>un(e,fn(t));var vt=(e,t)=>{var n={};for(var o in e)yt.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&we)for(var o of we(e))t.indexOf(o)<0&&Et.call(e,o)&&(n[o]=e[o]);return n};const gn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}};gn();function ae(){}function pn(e,t){for(const n in t)e[n]=t[n];return e}function $t(e){return e()}function _t(){return Object.create(null)}function ie(e){e.forEach($t)}function Me(e){return typeof e=="function"}function tt(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function hn(e){return Object.keys(e).length===0}function Gt(e){return e&&Me(e.destroy)?e.destroy:ae}function D(e,t){e.appendChild(t)}function ge(e,t,n){e.insertBefore(t,n||null)}function se(e){e.parentNode.removeChild(e)}function x(e){return document.createElement(e)}function U(e){return document.createTextNode(e)}function ne(){return U(" ")}function mn(){return U("")}function ee(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function G(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function yn(e){return Array.from(e.childNodes)}function Ve(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function En(e,t,n,o){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}let nt;function me(e){nt=e}const he=[],Dt=[],Oe=[],wt=[],vn=Promise.resolve();let Ue=!1;function _n(){Ue||(Ue=!0,vn.then(Zt))}function je(e){Oe.push(e)}const Be=new Set;let Te=0;function Zt(){const e=nt;do{for(;Te<he.length;){const t=he[Te];Te++,me(t),Dn(t.$$)}for(me(null),he.length=0,Te=0;Dt.length;)Dt.pop()();for(let t=0;t<Oe.length;t+=1){const n=Oe[t];Be.has(n)||(Be.add(n),n())}Oe.length=0}while(he.length);for(;wt.length;)wt.pop()();Ue=!1,Be.clear(),me(e)}function Dn(e){if(e.fragment!==null){e.update(),ie(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(je)}}const xe=new Set;let te;function wn(){te={r:0,c:[],p:te}}function bn(){te.r||ie(te.c),te=te.p}function ve(e,t){e&&e.i&&(xe.delete(e),e.i(t))}function Fe(e,t,n,o){if(e&&e.o){if(xe.has(e))return;xe.add(e),te.c.push(()=>{xe.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}function Tn(e,t){e.d(1),t.delete(e.key)}function On(e,t){Fe(e,1,1,()=>{t.delete(e.key)})}function Wt(e,t,n,o,i,s,r,d,f,a,c,g){let l=e.length,u=s.length,p=l;const h={};for(;p--;)h[e[p].key]=p;const m=[],E=new Map,w=new Map;for(p=u;p--;){const b=g(i,s,p),v=n(b);let y=r.get(v);y?o&&y.p(b,t):(y=a(v,b),y.c()),E.set(v,m[p]=y),v in h&&w.set(v,Math.abs(p-h[v]))}const _=new Set,k=new Set;function B(b){ve(b,1),b.m(d,c),r.set(b.key,b),c=b.first,u--}for(;l&&u;){const b=m[u-1],v=e[l-1],y=b.key,T=v.key;b===v?(c=b.first,l--,u--):E.has(T)?!r.has(y)||_.has(y)?B(b):k.has(T)?l--:w.get(y)>w.get(T)?(k.add(y),B(b)):(_.add(T),l--):(f(v,r),l--)}for(;l--;){const b=e[l];E.has(b.key)||f(b,r)}for(;u;)B(m[u-1]);return m}function xn(e,t){const n={},o={},i={$$scope:1};let s=e.length;for(;s--;){const r=e[s],d=t[s];if(d){for(const f in r)f in d||(o[f]=1);for(const f in d)i[f]||(n[f]=d[f],i[f]=1);e[s]=d}else for(const f in r)i[f]=1}for(const r in o)r in n||(n[r]=void 0);return n}function An(e){return typeof e=="object"&&e!==null?e:{}}function Bt(e){e&&e.c()}function ot(e,t,n,o){const{fragment:i,on_mount:s,on_destroy:r,after_update:d}=e.$$;i&&i.m(t,n),o||je(()=>{const f=s.map($t).filter(Me);r?r.push(...f):ie(f),e.$$.on_mount=[]}),d.forEach(je)}function rt(e,t){const n=e.$$;n.fragment!==null&&(ie(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function In(e,t){e.$$.dirty[0]===-1&&(he.push(e),_n(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function it(e,t,n,o,i,s,r,d=[-1]){const f=nt;me(e);const a=e.$$={fragment:null,ctx:null,props:s,update:ae,not_equal:i,bound:_t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:_t(),dirty:d,skip_bound:!1,root:t.target||f.$$.root};r&&r(a.root);let c=!1;if(a.ctx=n?n(e,t.props||{},(g,l,...u)=>{const p=u.length?u[0]:l;return a.ctx&&i(a.ctx[g],a.ctx[g]=p)&&(!a.skip_bound&&a.bound[g]&&a.bound[g](p),c&&In(e,g)),l}):[],a.update(),c=!0,ie(a.before_update),a.fragment=o?o(a.ctx):!1,t.target){if(t.hydrate){const g=yn(t.target);a.fragment&&a.fragment.l(g),g.forEach(se)}else a.fragment&&a.fragment.c();t.intro&&ve(e.$$.fragment),ot(e,t.target,t.anchor,t.customElement),Zt()}me(f)}class st{$destroy(){rt(this,1),this.$destroy=ae}$on(t,n){const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const i=o.indexOf(n);i!==-1&&o.splice(i,1)}}$set(t){this.$$set&&!hn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Rn="finalize",Nn="consider";function de(e,t,n){e.dispatchEvent(new CustomEvent(Rn,{detail:{items:t,info:n}}))}function q(e,t,n){e.dispatchEvent(new CustomEvent(Nn,{detail:{items:t,info:n}}))}const ze="draggedEntered",_e="draggedLeft",$e="draggedOverIndex",lt="draggedLeftDocument",Re={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Ln(e,t,n){e.dispatchEvent(new CustomEvent(ze,{detail:{indexObj:t,draggedEl:n}}))}function Sn(e,t,n){e.dispatchEvent(new CustomEvent(_e,{detail:{draggedEl:t,type:Re.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function Cn(e,t){e.dispatchEvent(new CustomEvent(_e,{detail:{draggedEl:t,type:Re.OUTSIDE_OF_ANY}}))}function kn(e,t,n){e.dispatchEvent(new CustomEvent($e,{detail:{indexObj:t,draggedEl:n}}))}function Pn(e){window.dispatchEvent(new CustomEvent(lt,{detail:{draggedEl:e}}))}const C={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:ze,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:$e,DRAGGED_LEFT:_e,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},P={POINTER:"pointer",KEYBOARD:"keyboard"},ce="isDndShadowItem",at="data-is-dnd-shadow-item",dt="id:dnd-shadow-placeholder-0000",Mn="dnd-action-dragged-el";let R="id",qe=0;function Ht(){qe++}function Yt(){if(qe===0)throw new Error("Bug! trying to decrement when there are no dropzones");qe--}const ct=typeof window=="undefined";function Vt(e){let t;const n=e.getBoundingClientRect(),o=getComputedStyle(e),i=o.transform;if(i){let s,r,d,f;if(i.startsWith("matrix3d("))t=i.slice(9,-1).split(/, /),s=+t[0],r=+t[5],d=+t[12],f=+t[13];else if(i.startsWith("matrix("))t=i.slice(7,-1).split(/, /),s=+t[0],r=+t[3],d=+t[4],f=+t[5];else return n;const a=o.transformOrigin,c=n.x-d-(1-s)*parseFloat(a),g=n.y-f-(1-r)*parseFloat(a.slice(a.indexOf(" ")+1)),l=s?n.width/s:e.offsetWidth,u=r?n.height/r:e.offsetHeight;return{x:c,y:g,width:l,height:u,top:g,right:c+l,bottom:g+u,left:c}}else return n}function Ut(e){const t=Vt(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function ut(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function jt(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Fn(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ft(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function ye(e){return jt(ut(e))}function bt(e,t){const n=ye(e),o=Ut(t);return ft(n,o)}function zn(e,t){const n=ye(e),o=ye(t);return Fn(n,o)}function $n(e){const t=ut(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Gn(e,t){const n=ut(t);return ft(e,n)?{top:e.y-n.top,bottom:n.bottom-e.y,left:e.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-e.x}:null}let oe;function gt(){oe=new Map}gt();function Zn(e){oe.delete(e)}function Wn(e){const t=Array.from(e.children).findIndex(n=>n.getAttribute(at));if(t>=0)return oe.has(e)||oe.set(e,new Map),oe.get(e).set(t,Ut(e.children[t])),t}function Bn(e,t){if(!bt(e,t))return null;const n=t.children;if(n.length===0)return{index:0,isProximityBased:!0};const o=Wn(t);for(let r=0;r<n.length;r++)if(bt(e,n[r])){const d=oe.has(t)&&oe.get(t).get(r);return d&&!ft(ye(e),d)?{index:o,isProximityBased:!1}:{index:r,isProximityBased:!1}}let i=Number.MAX_VALUE,s;for(let r=0;r<n.length;r++){const d=zn(e,n[r]);d<i&&(i=d,s=r)}return{index:s,isProximityBased:!0}}const pe=25;function qt(){let e;function t(){e={directionObj:void 0,stepPx:0}}t();function n(s){const{directionObj:r,stepPx:d}=e;r&&(s.scrollBy(r.x*d,r.y*d),window.requestAnimationFrame(()=>n(s)))}function o(s){return pe-s}function i(s,r){if(!r)return!1;const d=Gn(s,r);if(d===null)return t(),!1;const f=!!e.directionObj;let[a,c]=[!1,!1];return r.scrollHeight>r.clientHeight&&(d.bottom<pe?(a=!0,e.directionObj={x:0,y:1},e.stepPx=o(d.bottom)):d.top<pe&&(a=!0,e.directionObj={x:0,y:-1},e.stepPx=o(d.top)),!f&&a)||r.scrollWidth>r.clientWidth&&(d.right<pe?(c=!0,e.directionObj={x:1,y:0},e.stepPx=o(d.right)):d.left<pe&&(c=!0,e.directionObj={x:-1,y:0},e.stepPx=o(d.left)),!f&&c)?(n(r),!0):(t(),!1)}return{scrollIfNeeded:i,resetScrolling:t}}function He(e){return JSON.stringify(e,null,2)}function Tt(e){if(!e)throw new Error("cannot get depth of a falsy node");return Kt(e,0)}function Kt(e,t=0){return e.parentElement?Kt(e.parentElement,t+1):t-1}function Hn(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!{}.hasOwnProperty.call(t,n)||t[n]!==e[n])return!1;return!0}function Yn(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const Vn=200,Ot=10,{scrollIfNeeded:Un,resetScrolling:jn}=qt();let Ke;function qn(e,t,n=Vn){let o,i,s=!1,r;const d=Array.from(t).sort((a,c)=>Tt(c)-Tt(a));function f(){const a=ye(e),c=Un(a,o);if(!c&&r&&Math.abs(r.x-a.x)<Ot&&Math.abs(r.y-a.y)<Ot){Ke=window.setTimeout(f,n);return}if($n(e)){Pn(e);return}r=a;let g=!1;for(const l of d){c&&Zn(o);const u=Bn(e,l);if(u===null)continue;const{index:p}=u;g=!0,l!==o?(o&&Sn(o,e,l),Ln(l,u,e),o=l):p!==i&&(kn(l,u,e),i=p);break}!g&&s&&o?(Cn(o,e),o=void 0,i=void 0,s=!1):s=!0,Ke=window.setTimeout(f,n)}f()}function Kn(){clearTimeout(Ke),jn(),gt()}const Xn=300;let Ne;function Le(e){const t=e.touches?e.touches[0]:e;Ne={x:t.clientX,y:t.clientY}}const{scrollIfNeeded:Jn,resetScrolling:Qn}=qt();let Xt;function Jt(){Ne&&Jn(Ne,document.documentElement)&&gt(),Xt=window.setTimeout(Jt,Xn)}function eo(){window.addEventListener("mousemove",Le),window.addEventListener("touchmove",Le),Jt()}function to(){window.removeEventListener("mousemove",Le),window.removeEventListener("touchmove",Le),Ne=void 0,window.clearTimeout(Xt),Qn()}function no(e){const t=e.cloneNode(!0),n=[],o=e.tagName==="SELECT",i=o?[e]:[...e.querySelectorAll("select")];for(const r of i)n.push(r.value);if(i.length<=0)return t;const s=o?[t]:[...t.querySelectorAll("select")];for(let r=0;r<s.length;r++){const d=s[r],f=n[r],a=d.querySelector(`option[value="${f}"`);a&&a.setAttribute("selected",!0)}return t}const oo=.2;function X(e){return`${e} ${oo}s ease`}function ro(e,t){const n=e.getBoundingClientRect(),o=no(e);Qt(e,o),o.id=Mn,o.style.position="fixed";let i=n.top,s=n.left;if(o.style.top=`${i}px`,o.style.left=`${s}px`,t){const r=jt(n);i-=r.y-t.y,s-=r.x-t.x,window.setTimeout(()=>{o.style.top=`${i}px`,o.style.left=`${s}px`},0)}return o.style.margin="0",o.style.boxSizing="border-box",o.style.height=`${n.height}px`,o.style.width=`${n.width}px`,o.style.transition=`${X("top")}, ${X("left")}, ${X("background-color")}, ${X("opacity")}, ${X("color")} `,window.setTimeout(()=>o.style.transition+=`, ${X("width")}, ${X("height")}`,0),o.style.zIndex="9999",o.style.cursor="grabbing",o}function io(e){e.style.cursor="grab"}function so(e,t,n,o,i){const s=t.getBoundingClientRect(),r=e.getBoundingClientRect(),d=s.width-r.width,f=s.height-r.height;if(d||f){const a={left:(n-r.left)/r.width,top:(o-r.top)/r.height};e.style.height=`${s.height}px`,e.style.width=`${s.width}px`,e.style.left=`${parseFloat(e.style.left)-a.left*d}px`,e.style.top=`${parseFloat(e.style.top)-a.top*f}px`}Qt(t,e),i()}function Qt(e,t){const n=window.getComputedStyle(e);Array.from(n).filter(o=>o.startsWith("background")||o.startsWith("padding")||o.startsWith("font")||o.startsWith("text")||o.startsWith("align")||o.startsWith("justify")||o.startsWith("display")||o.startsWith("flex")||o.startsWith("border")||o==="opacity"||o==="color"||o==="list-style-type").forEach(o=>t.style.setProperty(o,n.getPropertyValue(o),n.getPropertyPriority(o)))}function lo(e,t){e.draggable=!1,e.ondragstart=()=>!1,t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function en(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function ao(e){e.style.visibility="hidden",e.setAttribute(at,"true")}function co(e){e.style.visibility="",e.removeAttribute(at)}function Ae(e,t=()=>{},n=()=>[]){e.forEach(o=>{const i=t(o);Object.keys(i).forEach(s=>{o.style[s]=i[s]}),n(o).forEach(s=>o.classList.add(s))})}function Se(e,t=()=>{},n=()=>[]){e.forEach(o=>{const i=t(o);Object.keys(i).forEach(s=>{o.style[s]=""}),n(o).forEach(s=>o.classList.contains(s)&&o.classList.remove(s))})}function uo(e){const t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");const n=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=n}}const fo="--any--",go=100,xt=3,At={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let Y,L,F,Ge,I,Ze,ue,M,V,z,Q=!1,pt=!1,ht,De=!1,Ie=[];const W=new Map,A=new Map,Ye=new WeakMap;function po(e,t){W.has(t)||W.set(t,new Set),W.get(t).has(e)||(W.get(t).add(e),Ht())}function It(e,t){W.get(t).delete(e),Yt(),W.get(t).size===0&&W.delete(t)}function ho(){eo();const e=W.get(Ge);for(const n of e)n.addEventListener(ze,tn),n.addEventListener(_e,nn),n.addEventListener($e,on);window.addEventListener(lt,fe);const t=Math.max(go,...Array.from(e.keys()).map(n=>A.get(n).dropAnimationDurationMs));qn(L,e,t*1.07)}function mo(){to();const e=W.get(Ge);for(const t of e)t.removeEventListener(ze,tn),t.removeEventListener(_e,nn),t.removeEventListener($e,on);window.removeEventListener(lt,fe),Kn()}function yo(e){return e.findIndex(t=>t[R]===dt)}function We(e){return e.findIndex(t=>!!t[ce]&&t[R]!==dt)}function tn(e){let{items:t,dropFromOthersDisabled:n}=A.get(e.currentTarget);if(n&&e.currentTarget!==I)return;if(De=!1,t=t.filter(r=>r[R]!==ue[R]),I!==e.currentTarget){const d=A.get(I).items.filter(f=>!f[ce]);q(I,d,{trigger:C.DRAGGED_ENTERED_ANOTHER,id:F[R],source:P.POINTER})}else{const r=yo(t);r!==-1&&t.splice(r,1)}const{index:o,isProximityBased:i}=e.detail.indexObj,s=i&&o===e.currentTarget.children.length-1?o+1:o;M=e.currentTarget,t.splice(s,0,ue),q(e.currentTarget,t,{trigger:C.DRAGGED_ENTERED,id:F[R],source:P.POINTER})}function nn(e){if(!Q)return;const{items:t,dropFromOthersDisabled:n}=A.get(e.currentTarget);if(n&&e.currentTarget!==I&&e.currentTarget!==M)return;const o=We(t),i=t.splice(o,1)[0];M=void 0;const{type:s,theOtherDz:r}=e.detail;if(s===Re.OUTSIDE_OF_ANY||s===Re.LEFT_FOR_ANOTHER&&r!==I&&A.get(r).dropFromOthersDisabled){De=!0,M=I;const d=A.get(I).items;d.splice(Ze,0,i),q(I,d,{trigger:C.DRAGGED_LEFT_ALL,id:F[R],source:P.POINTER})}q(e.currentTarget,t,{trigger:C.DRAGGED_LEFT,id:F[R],source:P.POINTER})}function on(e){const{items:t,dropFromOthersDisabled:n}=A.get(e.currentTarget);if(n&&e.currentTarget!==I)return;De=!1;const{index:o}=e.detail.indexObj,i=We(t);t.splice(i,1),t.splice(o,0,ue),q(e.currentTarget,t,{trigger:C.DRAGGED_OVER_INDEX,id:F[R],source:P.POINTER})}function Ce(e){e.preventDefault();const t=e.touches?e.touches[0]:e;z={x:t.clientX,y:t.clientY},L.style.transform=`translate3d(${z.x-V.x}px, ${z.y-V.y}px, 0)`}function fe(){pt=!0,window.removeEventListener("mousemove",Ce),window.removeEventListener("touchmove",Ce),window.removeEventListener("mouseup",fe),window.removeEventListener("touchend",fe),mo(),io(L),M||(M=I);let{items:e,type:t}=A.get(M);Se(W.get(t),i=>A.get(i).dropTargetStyle,i=>A.get(i).dropTargetClasses);let n=We(e);n===-1&&(n=Ze),e=e.map(i=>i[ce]?F:i);function o(){ht(),de(M,e,{trigger:De?C.DROPPED_OUTSIDE_OF_ANY:C.DROPPED_INTO_ZONE,id:F[R],source:P.POINTER}),M!==I&&de(I,A.get(I).items,{trigger:C.DROPPED_INTO_ANOTHER,id:F[R],source:P.POINTER}),co(M.children[n]),_o()}Eo(n,o)}function Eo(e,t){const n=Vt(M.children[e]),o={x:n.left-parseFloat(L.style.left),y:n.top-parseFloat(L.style.top)},{dropAnimationDurationMs:i}=A.get(M),s=`transform ${i}ms ease`;L.style.transition=L.style.transition?L.style.transition+","+s:s,L.style.transform=`translate3d(${o.x}px, ${o.y}px, 0)`,window.setTimeout(t,i)}function vo(e,t){Ie.push({dz:e,destroy:t}),window.requestAnimationFrame(()=>{en(e),document.body.appendChild(e)})}function _o(){L.remove(),Y.remove(),Ie.length&&(Ie.forEach(({dz:e,destroy:t})=>{t(),e.remove()}),Ie=[]),L=void 0,Y=void 0,F=void 0,Ge=void 0,I=void 0,Ze=void 0,ue=void 0,M=void 0,V=void 0,z=void 0,Q=!1,pt=!1,ht=void 0,De=!1}function Do(e,t){let n=!1;const o={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:At,dropTargetClasses:[],transformDraggedElement:()=>{},centreDraggedOnCursor:!1};let i=new Map;function s(){window.addEventListener("mousemove",f,{passive:!1}),window.addEventListener("touchmove",f,{passive:!1,capture:!1}),window.addEventListener("mouseup",d,{passive:!1}),window.addEventListener("touchend",d,{passive:!1})}function r(){window.removeEventListener("mousemove",f),window.removeEventListener("touchmove",f),window.removeEventListener("mouseup",d),window.removeEventListener("touchend",d)}function d(){r(),Y=void 0,V=void 0,z=void 0}function f(l){l.preventDefault();const u=l.touches?l.touches[0]:l;z={x:u.clientX,y:u.clientY},(Math.abs(z.x-V.x)>=xt||Math.abs(z.y-V.y)>=xt)&&(r(),c())}function a(l){if(l.target!==l.currentTarget&&(l.target.value!==void 0||l.target.isContentEditable)||l.button||Q)return;l.stopPropagation();const u=l.touches?l.touches[0]:l;V={x:u.clientX,y:u.clientY},z=K({},V),Y=l.currentTarget,s()}function c(){Q=!0;const l=i.get(Y);Ze=l,I=Y.parentElement;const u=I.getRootNode(),p=u.body||u,{items:h,type:m,centreDraggedOnCursor:E}=o;F=K({},h[l]),Ge=m,ue=be(K({},F),{[ce]:!0});const w=be(K({},ue),{[R]:dt});L=ro(Y,E&&z);function _(){L.parentElement?window.requestAnimationFrame(_):(p.appendChild(L),L.focus(),ho(),en(Y),p.appendChild(Y))}window.requestAnimationFrame(_),Ae(Array.from(W.get(o.type)).filter(k=>k===I||!A.get(k).dropFromOthersDisabled),k=>A.get(k).dropTargetStyle,k=>A.get(k).dropTargetClasses),h.splice(l,1,w),ht=uo(I),q(I,h,{trigger:C.DRAG_STARTED,id:F[R],source:P.POINTER}),window.addEventListener("mousemove",Ce,{passive:!1}),window.addEventListener("touchmove",Ce,{passive:!1,capture:!1}),window.addEventListener("mouseup",fe,{passive:!1}),window.addEventListener("touchend",fe,{passive:!1})}function g({items:l=void 0,flipDurationMs:u=0,type:p=fo,dragDisabled:h=!1,morphDisabled:m=!1,dropFromOthersDisabled:E=!1,dropTargetStyle:w=At,dropTargetClasses:_=[],transformDraggedElement:k=()=>{},centreDraggedOnCursor:B=!1}){o.dropAnimationDurationMs=u,o.type&&p!==o.type&&It(e,o.type),o.type=p,po(e,p),o.items=[...l],o.dragDisabled=h,o.morphDisabled=m,o.transformDraggedElement=k,o.centreDraggedOnCursor=B,n&&Q&&!pt&&(!Hn(w,o.dropTargetStyle)||!Yn(_,o.dropTargetClasses))&&(Se([e],()=>o.dropTargetStyle,()=>_),Ae([e],()=>w,()=>_)),o.dropTargetStyle=w,o.dropTargetClasses=[..._];function b(y,T){return A.get(y)?A.get(y)[T]:o[T]}n&&Q&&o.dropFromOthersDisabled!==E&&(E?Se([e],y=>b(y,"dropTargetStyle"),y=>b(y,"dropTargetClasses")):Ae([e],y=>b(y,"dropTargetStyle"),y=>b(y,"dropTargetClasses"))),o.dropFromOthersDisabled=E,A.set(e,o);const v=We(o.items);for(let y=0;y<e.children.length;y++){const T=e.children[y];if(lo(T,h),y===v){m||so(L,T,z.x,z.y,()=>o.transformDraggedElement(L,F,y)),ao(T);continue}T.removeEventListener("mousedown",Ye.get(T)),T.removeEventListener("touchstart",Ye.get(T)),h||(T.addEventListener("mousedown",a),T.addEventListener("touchstart",a),Ye.set(T,a)),i.set(T,y),n||(n=!0)}}return g(t),{update:l=>{g(l)},destroy:()=>{function l(){It(e,A.get(e).type),A.delete(e)}Q?vo(e,l):l()}}}const Xe={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},rn={[Xe.DND_ZONE_ACTIVE]:"Tab to one the items and press space-bar or enter to start dragging it",[Xe.DND_ZONE_DRAG_DISABLED]:"This is a disabled drag and drop list"},wo="dnd-action-aria-alert";let O;function Je(){O||(O=document.createElement("div"),function(){O.id=wo,O.style.position="fixed",O.style.bottom="0",O.style.left="0",O.style.zIndex="-5",O.style.opacity="0",O.style.height="0",O.style.width="0",O.setAttribute("role","alert")}(),document.body.prepend(O),Object.entries(rn).forEach(([e,t])=>document.body.prepend(Oo(e,t))))}function bo(){return ct?null:(document.readyState==="complete"?Je():window.addEventListener("DOMContentLoaded",Je),K({},Xe))}function To(){ct||!O||(Object.keys(rn).forEach(e=>{var t;return(t=document.getElementById(e))==null?void 0:t.remove()}),O.remove(),O=void 0)}function Oo(e,t){const n=document.createElement("div");return n.id=e,n.innerHTML=`<p>${t}</p>`,n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}function le(e){if(ct)return;O||Je(),O.innerHTML="";const t=document.createTextNode(e);O.appendChild(t),O.style.display="none",O.style.display="inline"}const xo="--any--",Rt={outline:"rgba(255, 255, 102, 0.7) solid 2px"};let $=!1,Qe,S,re="",J,H,j="";const ke=new WeakSet,Nt=new WeakMap,Lt=new WeakMap,et=new Map,N=new Map,Z=new Map;let Pe;function Ao(e,t){Z.size===0&&(Pe=bo(),window.addEventListener("keydown",sn),window.addEventListener("click",ln)),Z.has(t)||Z.set(t,new Set),Z.get(t).has(e)||(Z.get(t).add(e),Ht())}function St(e,t){S===e&&Ee(),Z.get(t).delete(e),Yt(),Z.get(t).size===0&&Z.delete(t),Z.size===0&&(window.removeEventListener("keydown",sn),window.removeEventListener("click",ln),Pe=void 0,To())}function sn(e){if(!!$)switch(e.key){case"Escape":{Ee();break}}}function ln(){!$||ke.has(document.activeElement)||Ee()}function Io(e){if(!$)return;const t=e.currentTarget;if(t===S)return;re=t.getAttribute("aria-label")||"";const{items:n}=N.get(S),o=n.find(a=>a[R]===H),i=n.indexOf(o),s=n.splice(i,1)[0],{items:r,autoAriaDisabled:d}=N.get(t);t.getBoundingClientRect().top<S.getBoundingClientRect().top||t.getBoundingClientRect().left<S.getBoundingClientRect().left?(r.push(s),d||le(`Moved item ${j} to the end of the list ${re}`)):(r.unshift(s),d||le(`Moved item ${j} to the beginning of the list ${re}`)),de(S,n,{trigger:C.DROPPED_INTO_ANOTHER,id:H,source:P.KEYBOARD}),de(t,r,{trigger:C.DROPPED_INTO_ZONE,id:H,source:P.KEYBOARD}),S=t}function an(){et.forEach(({update:e},t)=>e(N.get(t)))}function Ee(e=!0){N.get(S).autoAriaDisabled||le(`Stopped dragging item ${j}`),ke.has(document.activeElement)&&document.activeElement.blur(),e&&q(S,N.get(S).items,{trigger:C.DRAG_STOPPED,id:H,source:P.KEYBOARD}),Se(Z.get(Qe),t=>N.get(t).dropTargetStyle,t=>N.get(t).dropTargetClasses),J=null,H=null,j="",Qe=null,S=null,re="",$=!1,an()}function Ro(e,t){const n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Rt,dropTargetClasses:[],autoAriaDisabled:!1};function o(c,g,l){c.length<=1||c.splice(l,1,c.splice(g,1,c[l])[0])}function i(c){switch(c.key){case"Enter":case" ":{if((c.target.disabled!==void 0||c.target.href||c.target.isContentEditable)&&!ke.has(c.target))return;c.preventDefault(),c.stopPropagation(),$?Ee():s(c);break}case"ArrowDown":case"ArrowRight":{if(!$)return;c.preventDefault(),c.stopPropagation();const{items:g}=N.get(e),l=Array.from(e.children),u=l.indexOf(c.currentTarget);u<l.length-1&&(n.autoAriaDisabled||le(`Moved item ${j} to position ${u+2} in the list ${re}`),o(g,u,u+1),de(e,g,{trigger:C.DROPPED_INTO_ZONE,id:H,source:P.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!$)return;c.preventDefault(),c.stopPropagation();const{items:g}=N.get(e),u=Array.from(e.children).indexOf(c.currentTarget);u>0&&(n.autoAriaDisabled||le(`Moved item ${j} to position ${u} in the list ${re}`),o(g,u,u-1),de(e,g,{trigger:C.DROPPED_INTO_ZONE,id:H,source:P.KEYBOARD}));break}}}function s(c){d(c.currentTarget),S=e,Qe=n.type,$=!0;const g=Array.from(Z.get(n.type)).filter(l=>l===S||!N.get(l).dropFromOthersDisabled);if(Ae(g,l=>N.get(l).dropTargetStyle,l=>N.get(l).dropTargetClasses),!n.autoAriaDisabled){let l=`Started dragging item ${j}. Use the arrow keys to move it within its list ${re}`;g.length>1&&(l+=", or tab to another list in order to move the item into it"),le(l)}q(e,N.get(e).items,{trigger:C.DRAG_STARTED,id:H,source:P.KEYBOARD}),an()}function r(c){!$||c.currentTarget!==J&&(c.stopPropagation(),Ee(!1),s(c))}function d(c){const{items:g}=N.get(e),l=Array.from(e.children),u=l.indexOf(c);J=c,J.tabIndex=0,H=g[u][R],j=l[u].getAttribute("aria-label")||""}function f({items:c=[],type:g=xo,dragDisabled:l=!1,zoneTabIndex:u=0,dropFromOthersDisabled:p=!1,dropTargetStyle:h=Rt,dropTargetClasses:m=[],autoAriaDisabled:E=!1}){n.items=[...c],n.dragDisabled=l,n.dropFromOthersDisabled=p,n.zoneTabIndex=u,n.dropTargetStyle=h,n.dropTargetClasses=m,n.autoAriaDisabled=E,n.type&&g!==n.type&&St(e,n.type),n.type=g,Ao(e,g),E||(e.setAttribute("aria-disabled",l),e.setAttribute("role","list"),e.setAttribute("aria-describedby",l?Pe.DND_ZONE_DRAG_DISABLED:Pe.DND_ZONE_ACTIVE)),N.set(e,n),$?e.tabIndex=e===S||J.contains(e)||n.dropFromOthersDisabled||S&&n.type!==N.get(S).type?-1:0:e.tabIndex=n.zoneTabIndex,e.addEventListener("focus",Io);for(let w=0;w<e.children.length;w++){const _=e.children[w];ke.add(_),_.tabIndex=$?-1:0,E||_.setAttribute("role","listitem"),_.removeEventListener("keydown",Nt.get(_)),_.removeEventListener("click",Lt.get(_)),l||(_.addEventListener("keydown",i),Nt.set(_,i),_.addEventListener("click",r),Lt.set(_,r)),$&&n.items[w][R]===H&&(J=_,J.tabIndex=0,_.focus())}}f(t);const a={update:c=>{f(c)},destroy:()=>{St(e,n.type),N.delete(e),et.delete(e)}};return et.set(e,a),a}function dn(e,t){Ct(t);const n=Do(e,t),o=Ro(e,t);return{update:i=>{Ct(i),n.update(i),o.update(i)},destroy:()=>{n.destroy(),o.destroy()}}}function Ct(e){const h=e,{items:t,flipDurationMs:n,type:o,dragDisabled:i,morphDisabled:s,dropFromOthersDisabled:r,zoneTabIndex:d,dropTargetStyle:f,dropTargetClasses:a,transformDraggedElement:c,autoAriaDisabled:g,centreDraggedOnCursor:l}=h,u=vt(h,["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor"]);if(Object.keys(u).length>0&&console.warn("dndzone will ignore unknown options",u),!t)throw new Error("no 'items' key provided to dndzone");const p=t.find(m=>!{}.hasOwnProperty.call(m,R));if(p)throw new Error(`missing '${R}' property for item ${He(p)}`);if(a&&!Array.isArray(a))throw new Error(`dropTargetClasses should be an array but instead it is a ${typeof a}, ${He(a)}`);if(d&&!No(d))throw new Error(`zoneTabIndex should be a number but instead it is a ${typeof d}, ${He(d)}`)}function No(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}function kt(e,t,n){const o=e.slice();return o[9]=t[n],o}function Pt(e){let t;return{c(){t=x("div"),G(t,"class","drop-target-shadow svelte-fz4o86")},m(n,o){ge(n,t,o)},d(n){n&&se(t)}}}function Mt(e,t){let n,o,i,s,r=t[9].id+"",d,f,a,c,g,l=t[9].type+"",u,p,h,m=t[9][ce]&&Pt();return{key:e,first:null,c(){n=x("div"),o=x("div"),i=U("id: "),s=x("span"),d=U(r),f=ne(),a=x("div"),c=U("type: "),g=x("span"),u=U(l),p=ne(),m&&m.c(),h=ne(),G(n,"class","module svelte-fz4o86"),this.first=n},m(E,w){ge(E,n,w),D(n,o),D(o,i),D(o,s),D(s,d),D(n,f),D(n,a),D(a,c),D(a,g),D(g,u),D(n,p),m&&m.m(n,null),D(n,h)},p(E,w){t=E,w&1&&r!==(r=t[9].id+"")&&Ve(d,r),w&1&&l!==(l=t[9].type+"")&&Ve(u,l),t[9][ce]?m||(m=Pt(),m.c(),m.m(n,h)):m&&(m.d(1),m=null)},d(E){E&&se(n),m&&m.d()}}}function Lo(e){let t,n,o,i,s,r,d,f,a,c,g=[],l=new Map,u,p,h,m,E,w,_,k,B=e[0];const b=v=>v[9].id;for(let v=0;v<B.length;v+=1){let y=kt(e,B,v),T=b(y);l.set(T,g[v]=Mt(T,y))}return{c(){t=x("div"),n=x("button"),n.textContent="remove",o=ne(),i=x("p"),s=U("chain id: "),r=x("span"),d=U(e[1]),f=ne(),a=x("div"),c=x("div");for(let v=0;v<g.length;v+=1)g[v].c();p=ne(),h=x("select"),m=x("option"),m.textContent="pass through",E=x("option"),E.textContent="branch",w=x("option"),w.textContent="lfo",G(n,"class","remove-chain svelte-fz4o86"),G(c,"class","drop-zone svelte-fz4o86"),m.__value="pth",m.value=m.__value,E.__value="bch",E.value=E.__value,w.__value="lfo",w.value=w.__value,G(h,"class","add-module svelte-fz4o86"),G(h,"name","add-module"),G(a,"class","inner svelte-fz4o86"),G(t,"class","chain svelte-fz4o86")},m(v,y){ge(v,t,y),D(t,n),D(t,o),D(t,i),D(i,s),D(i,r),D(r,d),D(t,f),D(t,a),D(a,c);for(let T=0;T<g.length;T+=1)g[T].m(c,null);D(a,p),D(a,h),D(h,m),D(h,E),D(h,w),_||(k=[ee(n,"click",e[7]),Gt(u=dn.call(null,c,{items:e[0],dropTargetStyle:{"":""},dropTargetClasses:["dropOver"]})),ee(c,"consider",e[4]),ee(c,"finalize",e[5]),ee(h,"change",e[8])],_=!0)},p(v,[y]){y&2&&Ve(d,v[1]),y&1&&(B=v[0],g=Wt(g,y,b,1,v,B,l,c,Tn,Mt,null,kt)),u&&Me(u.update)&&y&1&&u.update.call(null,{items:v[0],dropTargetStyle:{"":""},dropTargetClasses:["dropOver"]})},i:ae,o:ae,d(v){v&&se(t);for(let y=0;y<g.length;y+=1)g[y].d();_=!1,ie(k)}}}function So(e,t,n){let{id:o}=t,{modules:i}=t,{removeChain:s}=t,{onDrop:r}=t,{addModule:d}=t;function f(l){n(0,i=l.detail.items)}function a(l){r(l.detail.items)}const c=()=>s(o),g=l=>d(l);return e.$$set=l=>{"id"in l&&n(1,o=l.id),"modules"in l&&n(0,i=l.modules),"removeChain"in l&&n(2,s=l.removeChain),"onDrop"in l&&n(6,r=l.onDrop),"addModule"in l&&n(3,d=l.addModule)},[i,o,s,d,f,a,r,c,g]}class Co extends st{constructor(t){super(),it(this,t,So,Lo,tt,{id:1,modules:0,removeChain:2,onDrop:6,addModule:3})}}function Ft(e,t,n){const o=e.slice();return o[12]=t[n],o}function zt(e,t){let n,o,i;function s(...a){return t[7](t[12],...a)}function r(...a){return t[8](t[12],...a)}const d=[{removeChain:t[2]},t[12],{addModule:s},{onDrop:r}];let f={};for(let a=0;a<d.length;a+=1)f=pn(f,d[a]);return o=new Co({props:f}),{key:e,first:null,c(){n=mn(),Bt(o.$$.fragment),this.first=n},m(a,c){ge(a,n,c),ot(o,a,c),i=!0},p(a,c){t=a;const g=c&77?xn(d,[c&4&&{removeChain:t[2]},c&1&&An(t[12]),c&9&&{addModule:s},c&65&&{onDrop:r}]):{};o.$set(g)},i(a){i||(ve(o.$$.fragment,a),i=!0)},o(a){Fe(o.$$.fragment,a),i=!1},d(a){a&&se(n),rt(o,a)}}}function ko(e){let t,n,o=[],i=new Map,s,r,d,f,a,c,g=e[0];const l=u=>u[12].id;for(let u=0;u<g.length;u+=1){let p=Ft(e,g,u),h=l(p);i.set(h,o[u]=zt(h,p))}return{c(){t=x("div"),n=x("div");for(let u=0;u<o.length;u+=1)o[u].c();r=ne(),d=x("button"),d.textContent="add",G(n,"class","inner svelte-bs2vq7"),En(d,"margin","var(--app-padding) 0"),G(t,"class","network svelte-bs2vq7")},m(u,p){ge(u,t,p),D(t,n);for(let h=0;h<o.length;h+=1)o[h].m(n,null);D(t,r),D(t,d),f=!0,a||(c=[Gt(s=dn.call(null,n,{items:e[0],type:"chain",dropTargetStyle:{"":""},dropTargetClasses:["dropOver"]})),ee(n,"consider",e[4]),ee(n,"finalize",e[5]),ee(d,"click",e[1])],a=!0)},p(u,[p]){p&77&&(g=u[0],wn(),o=Wt(o,p,l,1,u,g,i,n,On,zt,null,Ft),bn()),s&&Me(s.update)&&p&1&&s.update.call(null,{items:u[0],type:"chain",dropTargetStyle:{"":""},dropTargetClasses:["dropOver"]})},i(u){if(!f){for(let p=0;p<g.length;p+=1)ve(o[p]);f=!0}},o(u){for(let p=0;p<o.length;p+=1)Fe(o[p]);f=!1},d(u){u&&se(t);for(let p=0;p<o.length;p+=1)o[p].d();a=!1,ie(c)}}}function Po(e,t,n){let o=(h=0)=>()=>h++,i=o(),s=o(),r=[{id:s(),modules:[{id:i(),type:"pth"},{id:i(),type:"bch"},{id:i(),type:"pth"}]},{id:s(),modules:[{id:i(),type:"bch"},{id:i(),type:"bch"}]}];function d(){n(0,r=[...r,{id:s(),modules:[]}])}function f(h){n(0,r=r.filter(m=>m.id!==h))}function a(h,m){n(0,r=r.map(E=>(E.id===h&&E.modules.push({id:i(),type:m.target.value}),E)))}function c(h){n(0,r=h.detail.items)}function g(h){n(0,r=h.detail.items)}function l(h,m){n(0,r=r.map(E=>E.id===h?(console.log(m),be(K({},E),{modules:m})):E))}return[r,d,f,a,c,g,l,(h,m)=>a(h.id,m),(h,m)=>l(h.id,m)]}class Mo extends st{constructor(t){super(),it(this,t,Po,ko,tt,{})}}function Fo(e){let t,n,o;return n=new Mo({}),{c(){t=x("main"),Bt(n.$$.fragment),G(t,"class","svelte-at17lr")},m(i,s){ge(i,t,s),ot(n,t,null),o=!0},p:ae,i(i){o||(ve(n.$$.fragment,i),o=!0)},o(i){Fe(n.$$.fragment,i),o=!1},d(i){i&&se(t),rt(n)}}}class zo extends st{constructor(t){super(),it(this,t,null,Fo,tt,{})}}new zo({target:document.body});
